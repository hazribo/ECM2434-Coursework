{% extends 'WebApp/game_base.html' %}
{% load static %}
{% block content %}
<div class="container">
    <!-- Top Section -->
    <p class="text-center">Currently logged in user: {{ profile.user.username }}</p>
    <div class="row mt-4 text-center justify-content-between">
        <div class="col"><div class="link rounded-box">
            link to uni climate policy
        </div></div>
        <div class="col offset-md-6">
            <a href="{% url 'leaderboard' %}" class="link rounded-box button-link clickable">
                Leaderboard
            </a>
        </div>
    </div>

    <!-- Middle Section -->
    <div class="row mt-4 text-center">
        <!-- Mission Section -->
        <div class="col mt-2"><div class="box rounded-box">
            <a href="{% url 'missions' %}" class="link button-link clickable">
                Missions
            </a>
        </div></div>
        <!-- Pet Section -->
        <div class="col mt-2"><div class="character-box rounded-box">
            <h4>Feed Your Pet!</h4>
            <img src="{% static 'BPgif.gif' %}" alt="Bean" class="pet-image"/>
        </div></div>
        <!-- Friend List -->
        <div class="col mt-2"><div class="box rounded-box">
            <h4>Friend List</h4>
            {% for friendProfile in friend_list %}
            <div class="friend-item">
                {% if friendProfile.hasPfp %}
                    <img class="pfp_thumbnail" src="{{ friendProfile.pfpUrl }}" />
                {% else %}
                    <img class="pfp_thumbnail" src="{% static 'nopfp.png' %}" />
                {% endif %}
                <a class="clickable" href="{{ friendProfile.link }}">{{ friendProfile.name }}</a>
            </div>
            {% endfor %}
        </div></div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container mt-5">
        <div class="progress-bar" style="width: 25%;">Level: </div>
    </div>

    <!-- Shop -->
    <div class="d-flex flex-row justify-content-center text-center mt-5">
        <div class="shop rounded-box">Shop</div>
        <div class="credits rounded-box">Credits</div>
    </div>
</div>

<style>



    .container {
        font-size: 1.3rem;
    }
    .rounded-box {
        border-radius: 15px;
        box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin: 10px;
        display: block;
        text-align: center;
        text-decoration: none;
        color: white;
    }
    .link, .box, .character-box, .shop, .credits {
        background-color: #007b5e;
        color: white;
        text-align: center;
    }
    .character-box {
        background-color: #6c757d;
    }
    .progress-container {
        background-color: #dff0d8;
        border-radius: 10px;
        height: 40px;
        overflow: hidden;
    }
    .progress-bar {
        background-color: #28a745;
        height: 100%;
        text-align: center;
        line-height: 40px;
        color: white;
        border-radius: 10px;
    }
    .pet-image {
        width: 100px;
        height: auto;
        margin-top: 10px;
    }
    .friend-item {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 5px;
    }
    .pfp_thumbnail {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        object-fit: cover;
    }
    .button-link {
        color: white !important;
        text-decoration: none !important;
        padding: 0.5rem 0.2rem;
        display: block;
    }
</style>
{% endblock %}
